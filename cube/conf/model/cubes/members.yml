cubes:
  - name: members
    sql_table: members
    data_source: default

    joins:
      - name: churches
        sql: "{CUBE.churchId} = {churches.id}"
        relationship: many_to_one

      - name: fellowships
        sql: "{CUBE.fellowshipId} = {fellowships.id}"
        relationship: many_to_one

    dimensions:
      - name: id
        sql: id
        type: string
        primary_key: true

      - name: churchId
        sql: "{CUBE}.`churchId`"
        type: string

      - name: educationLevel
        sql: "{CUBE}.`educationLevel`"
        type: string

      - name: email
        sql: email
        type: string

      - name: envelopeNumber
        sql: "{CUBE}.`envelopeNumber`"
        type: string

      - name: fellowshipAbsenceReason
        sql: "{CUBE}.`fellowshipAbsenceReason`"
        type: string

      - name: fellowshipId
        sql: "{CUBE}.`fellowshipId`"
        type: string

      - name: firstName
        sql: "{CUBE}.`firstName`"
        type: string

      - name: formerChurch
        sql: "{CUBE}.`formerChurch`"
        type: string

      - name: gender
        sql: gender
        type: string

      - name: lastName
        sql: "{CUBE}.`lastName`"
        type: string

      - name: maritalStatus
        sql: "{CUBE}.`maritalStatus`"
        type: string

      - name: marriageType
        sql: "{CUBE}.`marriageType`"
        type: string

      - name: memberRole
        sql: "{CUBE}.`memberRole`"
        type: string

      - name: middleName
        sql: "{CUBE}.`middleName`"
        type: string

      - name: nearestMemberName
        sql: "{CUBE}.`nearestMemberName`"
        type: string

      - name: nearestMemberPhone
        sql: "{CUBE}.`nearestMemberPhone`"
        type: string

      - name: occupation
        sql: occupation
        type: string

      - name: phoneNumber
        sql: "{CUBE}.`phoneNumber`"
        type: string

      - name: placeOfBirth
        sql: "{CUBE}.`placeOfBirth`"
        type: string

      - name: placeOfMarriage
        sql: "{CUBE}.`placeOfMarriage`"
        type: string

      - name: placeOfWork
        sql: "{CUBE}.`placeOfWork`"
        type: string

      - name: postalBox
        sql: "{CUBE}.`postalBox`"
        type: string

      - name: profession
        sql: profession
        type: string

      - name: profilePhoto
        sql: "{CUBE}.`profilePhoto`"
        type: string

      - name: residenceArea
        sql: "{CUBE}.`residenceArea`"
        type: string

      - name: residenceBlock
        sql: "{CUBE}.`residenceBlock`"
        type: string

      - name: residenceNumber
        sql: "{CUBE}.`residenceNumber`"
        type: string

      - name: spouseName
        sql: "{CUBE}.`spouseName`"
        type: string

      - name: spousePhoneNumber
        sql: "{CUBE}.`spousePhoneNumber`"
        type: string

      - name: createdAt
        sql: "{CUBE}.`createdAt`"
        type: time

      - name: updatedAt
        sql: "{CUBE}.`updatedAt`"
        type: time

      - name: dateOfBirth
        sql: "{CUBE}.`dateOfBirth`"
        type: time

      - name: dateOfMarriage
        sql: "{CUBE}.`dateOfMarriage`"
        type: time

    measures:
      - name: count
        type: count

    pre_aggregations:
      # Pre-aggregation definitions go here.
      # Learn more in the documentation: https://cube.dev/docs/caching/pre-aggregations/getting-started

